## 附录 E：版本

在第 1 章中，您看到 `cargo new` 向您的
有关版本的 _Cargo.toml_ 文件。本附录讲述了这意味着什么！

Rust 语言和编译器有六周的发布周期，这意味着用户可以获得
源源不断的新功能。其他编程语言发布的版本更大
变化较少； Rust 更频繁地发布较小的更新。经过一个
同时，所有这些微小的变化加起来。但从发布到发布，可以
很难回头说，“哇，在 Rust 1.10 和 Rust 1.31 之间，Rust 已经
变化很大！”

大约每三年，Rust 团队就会制作一个新的 Rust 版本。每个
版本汇集了已登陆到一个清晰的包中的功能
完全更新的文档和工具。新版本作为常规版本的一部分发布
六周的发布过程。

版本对不同的人有不同的用途：

- 对于活跃的 Rust 用户，新版本将增量更改整合到
  一个易于理解的包。
- 对于非用户来说，新版本标志着一些重大进步
  落地，这可能会让 Rust 值得再看一眼。
- 对于那些开发 Rust 的人来说，新版本提供了一个集结点
  项目作为一个整体。

在撰写本文时，有四个 Rust 版本可用：Rust 2015、Rust
2018、Rust 2021 和 Rust 2024。本书是使用 Rust 2024 版本编写的
习语。

_Cargo.toml_ 中的 `edition` 键表示编译器应该使用哪个版本
用于您的代码。如果密钥不存在，Rust 使用 `2015` 作为版本
出于向后兼容性原因的值。

每个项目都可以选择默认 2015 版本以外的版本。
版本可能包含不兼容的更改，例如包含新的关键字
与代码中的标识符冲突。但是，除非您选择加入这些
更改后，即使您升级 Rust，您的代码也将继续编译
您使用的编译器版本。

所有 Rust 编译器版本都支持之前存在的任何版本
编译器的版本，他们可以链接任何受支持版本的包
一起。版本更改仅影响编译器最初解析的方式
代码。因此，如果您使用 Rust 2015 并且您的依赖项之一使用
Rust 2018，您的项目将编译并能够使用该依赖项。这
相反的情况，您的项目使用 Rust 2018 并且依赖项使用
Rust 2015 也可以。

需要明确的是：大多数功能将在所有版本上提供。开发者使用
随着新的稳定版本的发布，任何 Rust 版本都将继续看到改进
制成。然而，在某些情况下，主要是当添加新的关键字时，一些新的
功能可能仅在更高版本中可用。你需要切换
如果您想利用这些功能，请参阅版本。

有关更多详细信息，请参阅 [_Rust 版本指南_][版本指南]。这是一个
完整的书，列举了版本之间的差异并解释了如何
通过`cargo fix`自动将您的代码升级到新版本。

[edition-guide]: https://doc.rust-lang.org/stable/edition-guide
